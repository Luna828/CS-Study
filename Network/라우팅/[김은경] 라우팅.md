# 라우팅 (Routing)

## 라우팅이란?

라우팅(Routing): 최적의 경로를 탐색하는 것!
라우터(Router): 라우터라는 장치를 통해 경로 지정 하여 라우팅을 능동적 처리 가능
라우팅 테이블(Routing Table): 라우터가 목적을 가지고 목적지를 찾아갈 때 이 테이블을 보고 찾아감

## 기능

1. 경로 결정
  - 라우터는 목적지까지의 `최적의 경로` 를 결정함 (지연, 용량 및 속도 고려)
2. 데이터 전달
  - 라우터는 선택한 경로의 다음 디바이스로 데이터를 전달하여 최종 목적지까지 도달 가능 
3. 로드 밸런싱
  - 라우터는 경우에 따라 패킷의 사본을 여러 경로로 보낸다. 이 방법을 사용하여 데이터 손실을 줄이고 이중화를 구현하고 트래픽 볼륨 관리 

## 유형

### 정적

`네트워크 관리자`가 정적 테이블(라우팅 테이블에 직접 추가) 사용하여 네트워크 경로를 `임의`로 결정하여 `수동`으로 구성하는 방식

<특징>
* 규모가 작거나 변경될 일이 많지 않을 때 사용
* 네트워크 정보 변경 시 모든 라우터들에게 알려줘야 함
* 네트워크 규모가 커질수록 수동으로 추가해야 하는 시간도 늘어남

### 동적

`라우터`가 `라우팅 프로토콜`로 경로의 현재 상태에 따라 동적으로 라우팅 테이블을 만들고 업데이트함

<특징>
* 작업 부담이 없고, 항상 최신의 라우팅 테이블 유지 가능
* 네트워크 환경 변화 고려
* 라우터의 부하가 큼

### 동적

## 프로토콜

라우터가 패킷을 식별하고 네트워크 경로를 따라 전달하기 위한 방법을 지정하는 규칙 세트

* 패킷이란? 데이터를 전송할 때 사용되는 작은 데이터 조각 (네트워크에서 데이터를 안정적으로 전달하는데 중요한 역할)

### AS (Autonomous System)

인터넷은 네트워크들이 라우터에 의해 연결된 복잡한 네트워크 -> 독립적인 네트워크 ( 자율 시스템 AS)
* AS 내의 라우터는 서로 동일한 라우팅 프로토콜 사용
* AS 내의 네트워크와 라우터는 한 조직에 의해 관리

### IGP (Inner Gateway Protocol) <-> EGP (External Gateway Protocol)
![스크린샷 2023-09-18 오후 11 03 17](https://github.com/Luna828/CS-Study/assets/93186591/891d9e12-9319-4def-991b-e739c18f0f6f)

* IGP는 위의 사진과 같이 AS 내부의 라우팅 정보를 교환 
* EGP는 AS간의 라우팅 정보를 교환(연결)

### RIP (Routing Information Protocol)

* 홉 수를 기준( 홉 수가 적은 경로 선택) -> 네트워크 간 최단 경로 결정 (최대 15개의 홉)
* 대규모 네트워크 구현 부적합
* Distance Vector 기반

### IGRP (Interior Gateway Routing Protocol)

* RIP보다 증가된 확장성 RIP -> 15개 홉이 255개 확장
* 다중 경로 지원
* Distance Vector 기반

### OSPF (Open Shortest Path)

* 컨버전스 타임이 빠름
* 네트워크 제한이 없음 (RIP에서는 제한이 있었지만 얘부터 X)
* Link-State Vector 기반

### EIGRP (Enhanced Interior Gateway Routing Protocol)

* Cisco 에서 제작한 Cisco 전용 라우팅 프로토콜 ( Cisco 전용이 있음)
* OSPF에 비해 설정 간단
* IGRP가 발전된 라우팅 프로토콜
* Distance Vector + Link-State Vector 기반

### BGP(Border Gateway Protocol)

* 정해진 정책에 따라 최적 라우팅 경로
* Distance Vector 기반

---

## 라우팅 알고리즘

라우팅 알고리즘은 라우팅 프로토콜을 구현하는 프로그램

### Distance Vector

라우터 간에 주기적으로 라우팅 테이블 정보를 교환하여 네트워크의 경로 결정!

* 홉 수 기반으로 경로 선택: 홉 수를 최소화하여 최적 경로 결정
* 분산된 정보 교환: 라우터들은 주기적으로 서로에게 라우팅 테이블 정보를 보내고 업데이트

### Link-State Vector

각 라우터가 네트워크의 상태 정보를 수집하고 이 정보를 사용하여 네트워크의 전체 상태를 계산

* 네트워크 링크 상태 정보 사용: 각 라우터는 네트워크 링크 상태 정보 수집한 후 그 정보를 사용하여 최적 경로 계산
* 전체 네트워크 상태 계산: 모든 라우터가 네트워크의 전체 상태를 계산하므로 항상 최적의 경로를 찾을 수 있음

## 참고자료
```text
https://c4u-rdav.tistory.com/87
https://systorage.tistory.com/entry/CS-네트워크-IP-프로토콜의-이해-라우팅-프로토콜
https://terryvery.tistory.com/94 -> 다시 확인하기 
```
