# 목차 
[1. TCP/IP 프로토콜 스택](#tcpip-프로토콜-스택) <br>
[2. TCP](#tcp) <br>
[3. UDP](#udp) <br>
[4. TCP vs UDP](#tcp-vs-udp) <br><br>


## TCP/IP 프로토콜 스택
- **TCP/IP 프로토콜 스택** <br>
  '인터넷 기반의 효율적인 데이터 전송'이라는 커다란 하나의 문제를 하나의 덩치 큰 프로토콜 설계로 해결한 것이 아니라, 그 문제를 작게 나눠서 계층화하려는 노력이 시도되었고,
  그 결과로 탄생한 것이 `TCP/IP` 프로토콜 스택인 것이다. <br><br>
  <img src="https://github.com/z-wook/z-wook/assets/101041221/60eb170f-d063-4139-90e9-629645fcca45"> <br><br>

- **TCP/IP 프로토콜의 탄생 배경** <br>
  '인터넷을 통한 효율적인 데이터의 송수신'이라는 이슈의 해결을 위해서는 아주 많은 분야의 전문가가 필요하며, 이들 간의 상호 논의로 만들어진 다양한 약속이 또한 필요하다. <br>

  따라서 이 문제는 작은 문제로 나눠서 해결하는 것이 효율적이다. <br>

  결국엔 문제를 영역별로 나눠서 '인터넷을 통한 효율적인 데이터 송수신'에 대한 결론을 얻게 되었다. 문제를 영역별로 나눠서 해결하다 보니 프로토콜이 여러 개 만들어졌으며, 이들은 계층구조를 통해서 상호 간에 관계를 맺게 되었다. <br><br>

- **LINK 계층** <br>
  LINK 계층은 물리적인 영역의 표준화에 대한 결과이다. 이는 가장 기본이 되는 영역으로 LAN, WAN, MAN과 같은 `네트워크 표준과 관련된 프로토콜을 정의하는 영역`이다. <br>

  두 호스트가 인터넷을 통해 데이터를 주고받으려면 아래 그림과 같이 물리적인 연결이 존재해야 한다. 이 부분에 대한 표준을 LINK 계층에서 담당하고 있다. <br><br>

  <img src="https://github.com/z-wook/z-wook/assets/101041221/be2430d4-260b-4a48-9c0a-78e9198c6c0e"> <br><br>

- **IP 계층** <br>
  '목적지로 데이터를 전송하기 위해서는 어떤 경로를 거쳐갈 것인가?' 이 문제를 해결하는 것이 IP 계층이고, 이 계층에서 사용하는 `프로토콜이` IP(Internet Protocol)이다. <br>

  IP 자체는 `비 연결 지향적`이며 `신뢰할 수 없는` 프로토콜이다. 데이터를 전송할 때마다 거쳐야 할 경로를 선택해 주지만, 그 경로는 일정치 않다. <br>

  특히 데이터 전송 도중에 경로상에 문제가 발생하면 다른 경로를 선택해 주는데, 이 과정에서 데이터가 손실되거나 오류가 발생하는 등의 문제가 발생한다고 해서 이를 해결해 주지 않는다. <br>

  즉 오류 발생에 대한 대비가 되어있지 않은 프로토콜이다. <br><br>

- **TCP/UDP 계층** <br>
  TCP와 UDP 계층은 IP 계층에서 알려준 정보를 바탕으로 데이터의 실제 송수신을 담당한다. 때문에 이 계층을 가리켜 `전송 계층`이라 한다. <br><br>
  

## TCP
- **TCP란?** <br>
  TCP(Transmission Control Protocol)는 인터넷상에서 데이터를 메시지의 형태로 보내기 위해 IP와 함께 사용하는 `프로토콜이다`. <br>

  TCP는 애플리케이션에게 신뢰적이고 `연결 지향성` 서비스를 제공한다. 일반적으로 TCP와 IP는 함께 사용되며 IP는 배달을, TCP는 패킷의 추적 및 관리를 하게 됩니다. <br>

  TCP는 연결형 서비스로, 신뢰적인 전송을 보장하기에 hanshaking 하고 데이터의 `흐름 제어`와 `혼잡제어`를 수행합니다. 하지만 이러한 기능으로 인해 `TCP의 속도는 느립니다`. <br><br>

- **TCP 특징**
  - 3-way handshaking 과정을 통해 연결을 설정하고 4-way handshaking을 통해 해제한다.
  - 흐름 제어 및 혼잡 제어.
  - 높은 신뢰성을 보장한다.
  - UDP보다 속도가 느리다.
  - 전이 중(Full-Duplex), 점대점(Point to Point) 방식. <br><br>

- **TCP 소켓의 생성에서 소멸의 과정**
  - 상대 소켓과의 연결
  - 상대 소켓과의 데이터 송수신
  - 상대 소켓과의 연결 종료 <br><br>

- **상대 소켓과의 연결(3-way Handshaking)** <br><br>
  <img src="https://github.com/z-wook/z-wook/assets/101041221/89322576-b2df-420d-944e-f897564e152f"> <br><br>

- **상대 소켓과의 연결 해제(4-way Handshaking)** <br><br>
  <img src="https://github.com/z-wook/z-wook/assets/101041221/00ec3461-95a7-4b60-abf3-65344aed0be4"> <br><br>


## UDP
- **UDP란?** <br>
  UDP(User Datagram Protocol)는 데이터를 데이터그램 단위로 처리하는 `프로토콜`이다.(데이터 그림이란 독립적인 관계를 지니는 패킷이라는 뜻) <br>

  UDP는 `비 연결형 프로토콜`이다. 즉, 할당되는 논리적인 경로가 없고 각각의 패킷이 다른 경로로 전송되고 이 각각의 패킷은 독립적인 관계를 지니게 되는데, 이렇게 데이터를 서로 다른 경로로 독립 처리하는 프로토콜을 UDP라고 합니다. <br>

  UDP는 연결을 설정하고 해제하는 과정이 존재하지 않는다. 서로 다른 경로로 독립적으로 처리함에도 패킷에 순서를 부여하여 재조립하거나 흐름 제어 및 혼잡제어를 수행하지 않아 속도가 빠르며 네트워크 부하가 적다는 장점이 있지만 데이터 전송의 신뢰성이 낮다. 연속성이 중요한 실시간 서비스(스트리밍)에 좋다. <br><br>
  

## TCP vs UDP
- TCP와 UDP는 각각 별도의 포트 주소 공간을 관리하므로 같은 포트 번호를 사용해도 무방하다. <br>
  즉, 두 프로토콜에서 동일한 포트 번호를 할당해도 서로 다른 포트로 간주한다. <br>

- 또한 같은 모듈(TCP or UDP) 내에서도 클라이언트 프로그램에서 동시에 여러 커넥션을 확립한 경우에는 서로 다른 포트 번호를 동적으로 할당한다. (동적할당에 사용되는 포트 번호는 49,152~65,535이다.) <br>

  <img src="https://github.com/z-wook/z-wook/assets/101041221/193bc622-f2cf-469f-977f-4dfe435fb87b"> <br><br>

